@page "/authentication/{action}"
@inject StateService StateService
@inject GoogleDriveService GoogleDriveService

<RemoteAuthenticatorView Action="@Action" OnLogInSucceeded="LogInSucceeded">
    <LogOutSucceeded>
        <Redirect Url="" />
    </LogOutSucceeded>
</RemoteAuthenticatorView>

@code{
    [Parameter] public string? Action { get; set; }

    private async Task LogInSucceeded(RemoteAuthenticationState arg)
    {
        StateService.Model = await GoogleDriveService.LoadAsync();
    }
}
